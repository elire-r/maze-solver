<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Maze Solver</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <!-- === PJESA MAZE + BUTONA === -->
    <div id="mainContent">
      <h1 class="title">Maze Solver</h1>

      <div class="controls controls-top">
        <div class="generation-box">
          <label class="bold-label">Maze generation</label>
          <div class="custom-dropdown">
            <div class="dropdown-selected" onclick="toggleDropdown()">Select the algorithm</div>
            <div class="dropdown-options">
              <div onclick="selectGeneration('dfs', 'DFS (Backtracker)')">DFS (Backtracker)</div>
              <div onclick="selectGeneration('prim', 'Prim\'s Algorithm')">Prim's Algorithm</div>
            </div>
          </div>
        </div>

        <button class="generate-btn" onclick="generateMaze()">Generate Maze</button>

        <div class="generation-box-2">
          <label class="bold-label">Maze solving</label>
          <div class="custom-dropdown">
            <div class="dropdown-selected-2" onclick="toggleSolveDropdown()">Select the algorithm</div>
            <div class="dropdown-options" id="solve-options">
              <div onclick="selectSolving('bfs', 'BFS')">BFS</div>
              <div onclick="selectSolving('dfs', 'DFS')">DFS</div>
              <div onclick="selectSolving('astar', 'A*')">A*</div>
            </div>
          </div>
        </div>
      </div>

      <canvas id="maze" width="500" height="500"></canvas>

      <div class="controls controls-bottom">
        <button class="play-btn" onclick="solve()">â–¶ï¸ Play</button>
        <button class="reset-btn" onclick="resetMaze()">ğŸ”„ Reset</button>
        <button class="info-btn" id="infoButton">â„¹ï¸ Info</button>
      </div>
    </div>

    <!-- === PJESA INFO (MODAL) === -->
    <div id="infoSection">
      <span id="infoClose">&times;</span>
      <h2 style="color: black;">Rreth aplikacionit</h2>
      <p>
        Ky aplikacion lejon pÃ«rdoruesin tÃ« krijojÃ« dhe zgjidhÃ« labirinte duke pÃ«rdorur algoritme si BFS(Breadth-First Search), DFS(Depth-First Search) dhe A*(A-star).<br>
        QÃ«llimi Ã«shtÃ« tÃ« demonstrohet mÃ«nyra se si kÃ«to algoritme eksplorojnÃ« hapÃ«sirÃ«n pÃ«r tÃ« gjetur rrugÃ«n mÃ« tÃ« shkurtÃ«r nÃ« njÃ« mÃ«nyrÃ« vizuale dhe ndÃ«rvepruese.
      </p>

      <h3 style="margin-top: 10px; font-size: 15px; color: black; ">
         Si luhet loja:
      </h3>

      <p style="text-align: left; max-width: 400px; margin-top: -6px;">
        1. SÃ« pari, zgjedh njÃ« algoritÃ«m pÃ«r gjenerimin e labirintit nga menuja <strong style="color: #85a96b;">Maze generation</strong>.<br>
        2. Pastaj, klikon butonin <strong style="color:#5ca3c8;">Generate Maze</strong> pÃ«r ta ndÃ«rtuar labirintin nÃ« mÃ«nyrÃ« automatike.<br>
        3. Pasi tÃ« krijohet labirinti, klikon nÃ« njÃ« qelizÃ« pÃ«r tÃ« vendosur pozicionin e fillimit (ğŸ¶), pastaj klikon nÃ« njÃ« qelizÃ« tjetÃ«r pÃ«r tÃ« vendosur pozicionin e qÃ«llimit (ğŸ ).<br>
        4. Zgjedh njÃ« algoritÃ«m pÃ«r zgjidhjen e labirintit nga menuja <strong style="color: #dec184;">Maze solving</strong>.<br>
        5. NÃ« fund, klikon butonin <strong style="color:#5ca3c8;">â–¶ï¸ Play</strong> qÃ« qeni tÃ« fillojÃ« rrugÃ«timin pÃ«r tÃ« gjetur shtÃ«pinÃ«, bazuar nÃ« algoritmin e zgjedhur.<br>
        6. Mund tÃ« klikosh <strong style="color: #dec184;">ğŸ”„ Reset</strong> pÃ«r ta filluar lojÃ«n nga e para nÃ« Ã§do moment.
      </p>

      <p style="margin-top: 40px;">
        DÃ«shiron tÃ« mÃ«sosh mÃ« shumÃ« pÃ«r algoritmet? Kliko nÃ« emrin e algoritmeve: 
        <span id="openBfsModal" class="algo-link bfs-link">BFS</span>, 
        <span id="openDfsModal" class="algo-link dfs-link">DFS</span> apo
        <span id="openAstarModal" class="algo-link astar-link">A*</span>.
      </p>
    </div>

    <!-- === MODAL BFS === -->
    <div id="bfsModal" class="modal">
      <div class="modal-content modal-bfs">
        <span class="close" id="closeBfsModal">&times;</span>
        <h2>Ã‡ka Ã«shtÃ« algoritmi BFS(Breadth-First Search)?</h2>
        <p style="text-align: left;">
          Algoritmi <strong>BFS</strong> (Breadth-First Search) Ã«shtÃ« njÃ« algoritÃ«m eksplorimi i grafit qÃ« pÃ«rdor njÃ« radhÃ« (queue) pÃ«r tÃ« vizituar qelizat mÃ« tÃ« afÃ«rta tÃ«rthorazi (nÃ« tÃ« njÃ«jtÃ«n distancÃ«) para se tÃ« shkojÃ« mÃ« thellÃ«.<br><br>
          Ai garanton gjetjen e rrugÃ«s mÃ« tÃ« shkurtÃ«r nÃ«se tÃ« gjitha lÃ«vizjet kanÃ« tÃ« njÃ«jtin Ã§mim (p.sh., njÃ« hap nÃ« Ã§do drejtim).
        </p>
      </div>
    </div>

    <!-- === MODAL DFS === -->
    <div id="dfsModal" class="modal">
      <div class="modal-content modal-dfs">
        <span class="close" id="closeDfsModal">&times;</span>
        <h2>Algoritmi DFS(Depth-First Search)</h2>
        <p style="text-align: left;">
          DFS (Depth-First Search) Ã«shtÃ« njÃ« algoritÃ«m eksplorimi qÃ« pÃ«rdor njÃ« strukturÃ« pirg (stack) pÃ«r tÃ« lÃ«vizur sa mÃ« thellÃ« tÃ« jetÃ« e mundur nÃ« njÃ« drejtim pÃ«rpara se tÃ« kthehet mbrapa. <br><br>
          Ai Ã«shtÃ« i thjeshtÃ« pÃ«r tâ€™u zbatuar dhe shumÃ« efikas nÃ« eksplorime ku thellÃ«sia e rrugÃ«ve Ã«shtÃ« mÃ« e rÃ«ndÃ«sishme sesa gjetja e rrugÃ«s mÃ« tÃ« shkurtÃ«r. MegjithatÃ«, ndryshe nga BFS, DFS nuk garanton gjetjen e rrugÃ«s mÃ« tÃ« shkurtÃ«r.
        </p>
      </div>
    </div>

    <!-- === MODAL A* === -->
    <div id="astarModal" class="modal">
      <div class="modal-content modal-astar">
        <span class="close" id="closeAstarModal">&times;</span>
        <h2>Algoritmi A*</h2>
        <p style="text-align: left;">
          A* (A-Star) Ã«shtÃ« njÃ« algoritÃ«m shumÃ« i fuqishÃ«m pÃ«r gjetjen e rrugÃ«s mÃ« tÃ« mirÃ« nga pika A nÃ« pikÃ«n B duke pÃ«rdorur njÃ« funksion heuristik. <br><br>
          Ai kombinon koston e rrugÃ«s nga fillimi deri nÃ« njÃ« qelizÃ« (G) dhe njÃ« vlerÃ«sim tÃ« distancÃ«s nga ajo qelizÃ« deri nÃ« qÃ«llim (H), duke pÃ«rdorur formulÃ«n: <strong>F = G + H</strong>. <br><br>
          A* Ã«shtÃ« i shpejtÃ«, i zgjuar dhe zakonisht mÃ« efikas sesa BFS apo DFS nÃ« skenarÃ« ku rruga optimale Ã«shtÃ« e rÃ«ndÃ«sishme.
        </p>
      </div>
    </div>
  </div>

  <script src="maze.js"></script>
  <script>
    const mainContent = document.getElementById("mainContent");
    const infoSection = document.getElementById("infoSection");
    const infoBtn = document.getElementById("infoButton");
    const infoClose = document.getElementById("infoClose");

    infoBtn.onclick = function () {
      mainContent.style.display = "none";
      infoSection.style.display = "flex";
    };

    infoClose.onclick = function () {
      infoSection.style.display = "none";
      mainContent.style.display = "block";
    };

    const bfsModal = document.getElementById("bfsModal");
    document.getElementById("openBfsModal").onclick = () => bfsModal.style.display = "flex";
    document.getElementById("closeBfsModal").onclick = () => bfsModal.style.display = "none";

    const dfsModal = document.getElementById("dfsModal");
    document.getElementById("openDfsModal").onclick = () => dfsModal.style.display = "flex";
    document.getElementById("closeDfsModal").onclick = () => dfsModal.style.display = "none";

    const astarModal = document.getElementById("astarModal");
    document.getElementById("openAstarModal").onclick = () => astarModal.style.display = "flex";
    document.getElementById("closeAstarModal").onclick = () => astarModal.style.display = "none";

    window.onclick = function (event) {
      if (event.target === bfsModal) bfsModal.style.display = "none";
      if (event.target === dfsModal) dfsModal.style.display = "none";
      if (event.target === astarModal) astarModal.style.display = "none";
    };
  </script>
</body>
</html>
